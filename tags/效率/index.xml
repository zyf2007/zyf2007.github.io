<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>效率 on ゲーム開発部 (Beta)</title>
    <link>https://midori.fun/tags/%E6%95%88%E7%8E%87/</link>
    <description>Recent content in 效率 on ゲーム開発部 (Beta)</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <copyright>© Hutao_zyf</copyright>
    <lastBuildDate>Mon, 16 Sep 2024 11:54:40 +0800</lastBuildDate>
    <atom:link href="https://midori.fun/tags/%E6%95%88%E7%8E%87/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>使用 Deskop Entry 扩展 KDE6 的 Dolphin 右键菜单</title>
      <link>https://midori.fun/posts/kde_service_menus/</link>
      <pubDate>Mon, 16 Sep 2024 11:54:40 +0800</pubDate>
      <guid>https://midori.fun/posts/kde_service_menus/</guid>
      <description>&lt;h2 id=&#34;基础-desktop-entry-文件&#34;&gt;基础 Desktop Entry 文件&lt;/h2&gt;&#xA;&lt;p&gt;用于存放菜单的路径为&lt;code&gt;~/.local/share/kio/servicemenus&lt;/code&gt;和&lt;code&gt;/usr/share/kio/servicemenus&lt;/code&gt;，文件扩展名为&lt;code&gt;.desktop&lt;/code&gt;：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;touch ~/.local/share/kio/servicemenus/pdf2png.desktop&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;向文件中写入以下内容：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-Desktop&#34; data-lang=&#34;Desktop&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[Desktop Entry]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Service&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ServiceTypes&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;KonqPopupMenu/Plugin&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;MimeType&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;application/pdf;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Actions&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;convertToImage;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[Desktop Action convertToImage]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Name&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Convert PDF to Image&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;sh -c &amp;#39;convert -density 300 &amp;#34;%f&amp;#34; &amp;#34;$(basename &amp;#34;%f&amp;#34; .pdf)-%03d.png&amp;#34;&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Icon&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;applications-graphics&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;desktop-entry&#34;&gt;[Desktop Entry]&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;X-KDE-Submenu=Convert&lt;/code&gt;用于表示二级菜单，添加后可以在&lt;code&gt;Actions&lt;/code&gt;中添加多个&lt;code&gt;Desktop Action&lt;/code&gt;，使用&lt;code&gt;;&lt;/code&gt;分隔&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;X-KDE-RequiredNumberOfUrls&lt;/code&gt;表示支持的选中文件数量，如有多种情况可以使用&lt;code&gt;,&lt;/code&gt;隔开，例如&lt;code&gt;X-KDE-RequiredNumberOfUrls=2,4,6&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;X-KDE-MinNumberOfUrls&lt;/code&gt;和&lt;code&gt;X-KDE-MaxNumberOfUrls&lt;/code&gt;表示支持的文件数量的最小值和最大值&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;MimeType&lt;/strong&gt;:&#xA;&lt;ul&gt;&#xA;&lt;li&gt;要为目录创建 ServiceMenu，请使用 &lt;code&gt;inode/directory&lt;/code&gt; MimeType。&lt;/li&gt;&#xA;&lt;li&gt;要为所有文件创建 ServiceMenu，请使用 &lt;code&gt;application/octet-stream&lt;/code&gt; MimeType。&lt;/li&gt;&#xA;&lt;li&gt;可以使用通配符，例如 &lt;code&gt;image/*&lt;/code&gt;。&lt;/li&gt;&#xA;&lt;li&gt;这里是一些&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types&#34;&gt;常见 MimeType&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;desktop-action&#34;&gt;[Desktop Action]&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Exec中&lt;code&gt;%f&lt;/code&gt;代表右键时选中的单个文件的路径，&lt;code&gt;%F&lt;/code&gt;代表选中的多个文件的路径，&lt;code&gt;%u&lt;/code&gt;代表右键时选中的文件的URI(&lt;code&gt;file://&lt;/code&gt;开头)，其他的&lt;code&gt;%变量&lt;/code&gt;请参阅来自FreeDesktop的 &lt;a href=&#34;https://specifications.freedesktop.org/desktop-entry-spec/latest/exec-variables.html&#34;&gt;The Exec key&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;关于上面的exec案例&#34;&gt;关于上面的Exec案例&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;convert -density &lt;span style=&#34;color:#ae81ff&#34;&gt;300&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%f&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;basename &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%f&amp;#34;&lt;/span&gt; .pdf&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;-%03d.png&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;&lt;code&gt;$(basename &amp;quot;%f&amp;quot; .pdf)&lt;/code&gt;&lt;/strong&gt;：这是一个子命令，用于提取文件名，并去掉扩展名。它会执行以下步骤：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
